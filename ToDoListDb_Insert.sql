-- =============================================
-- Заполнение таблиц тестовыми данными
-- =============================================

-- Очистка таблиц перед вставкой
TRUNCATE TABLE "ToDoItem" CASCADE;
TRUNCATE TABLE "ToDoList" CASCADE;
TRUNCATE TABLE "ToDoUser" CASCADE;

-- =============================================
-- Вставка пользователей
-- =============================================
INSERT INTO "ToDoUser" ("UserId", "TelegramUserId", "Username", "CreatedAt")
VALUES 
    ('11111111-1111-1111-1111-111111111111', 123456789, 'john_doe', '2024-01-15 10:00:00'),
    ('22222222-2222-2222-2222-222222222222', 987654321, 'jane_smith', '2024-01-16 11:30:00'),
    ('33333333-3333-3333-3333-333333333333', 555555555, 'alice_wonder', '2024-01-17 09:15:00');

-- =============================================
-- Вставка списков задач
-- =============================================
INSERT INTO "ToDoList" ("Id", "Name", "UserId", "CreatedAt")
VALUES 
    ('aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'Работа', '11111111-1111-1111-1111-111111111111', '2024-01-15 10:05:00'),
    ('bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 'Дом', '11111111-1111-1111-1111-111111111111', '2024-01-15 10:10:00'),
    ('cccccccc-cccc-cccc-cccc-cccccccccccc', 'Покупки', '22222222-2222-2222-2222-222222222222', '2024-01-16 11:35:00'),
    ('dddddddd-dddd-dddd-dddd-dddddddddddd', 'Учеба', '33333333-3333-3333-3333-333333333333', '2024-01-17 09:20:00');

-- =============================================
-- Вставка задач
-- =============================================
INSERT INTO "ToDoItem" ("Id", "Name", "UserId", "ListId", "Deadline", "State", "CreatedAt")
VALUES 
    -- Задачи для john_doe (список "Работа")
    ('eeeeeeee-eeee-eeee-eeee-eeeeeeeeeeee', 
     'Подготовить презентацию', 
     '11111111-1111-1111-1111-111111111111', 
     'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
     '2024-02-20 18:00:00', 
     0, -- Active
     '2024-01-15 10:15:00'),
    
    ('ffffffff-ffff-ffff-ffff-ffffffffffff', 
     'Написать отчет', 
     '11111111-1111-1111-1111-111111111111', 
     'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 
     '2024-02-22 17:00:00', 
     1, -- Completed
     '2024-01-15 10:20:00'),
    
    -- Задачи для john_doe (список "Дом")
    ('10000000-0000-0000-0000-000000000001', 
     'Починить кран', 
     '11111111-1111-1111-1111-111111111111', 
     'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb', 
     '2024-02-25 12:00:00', 
     0, -- Active
     '2024-01-15 10:25:00'),
    
    -- Задачи для john_doe (без списка)
    ('10000000-0000-0000-0000-000000000002', 
     'Позвонить маме', 
     '11111111-1111-1111-1111-111111111111', 
     NULL, 
     '2024-02-21 19:00:00', 
     0, -- Active
     '2024-01-15 10:30:00'),
    
    -- Задачи для jane_smith (список "Покупки")
    ('10000000-0000-0000-0000-000000000003', 
     'Купить молоко', 
     '22222222-2222-2222-2222-222222222222', 
     'cccccccc-cccc-cccc-cccc-cccccccccccc', 
     '2024-02-20 20:00:00', 
     0, -- Active
     '2024-01-16 11:40:00'),
    
    ('10000000-0000-0000-0000-000000000004', 
     'Купить хлеб', 
     '22222222-2222-2222-2222-222222222222', 
     'cccccccc-cccc-cccc-cccc-cccccccccccc', 
     '2024-02-20 20:00:00', 
     1, -- Completed
     '2024-01-16 11:45:00'),
    
    -- Задачи для alice_wonder (список "Учеба")
    ('10000000-0000-0000-0000-000000000005', 
     'Сдать курсовую', 
     '33333333-3333-3333-3333-333333333333', 
     'dddddddd-dddd-dddd-dddd-dddddddddddd', 
     '2024-03-01 23:59:00', 
     0, -- Active
     '2024-01-17 09:25:00'),
    
    ('10000000-0000-0000-0000-000000000006', 
     'Подготовиться к экзамену', 
     '33333333-3333-3333-3333-333333333333', 
     'dddddddd-dddd-dddd-dddd-dddddddddddd', 
     '2024-02-28 09:00:00', 
     0, -- Active
     '2024-01-17 09:30:00');

-- Проверка вставленных данных
SELECT 'Пользователи:' as "Таблица", COUNT(*) as "Количество записей" FROM "ToDoUser"
UNION ALL
SELECT 'Списки:', COUNT(*) FROM "ToDoList"
UNION ALL
SELECT 'Задачи:', COUNT(*) FROM "ToDoItem";